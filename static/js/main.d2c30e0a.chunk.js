(this["webpackJsonptodo-list-react"]=this["webpackJsonptodo-list-react"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var o=n(2),r=n(0),c=n.n(r),i=n(10),a=n.n(i),s=n(4),d=n(3),l=n(5),u=n(6),O=n(8),p=n(7),b=n(32);function j(e){return{type:"ADD_TODO",payload:{id:Object(b.a)(),value:e,isCompleted:!1}}}var f=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).handleInputChange=function(t){e.setState({newTodo:t.target.value})},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state.newTodo,o=e.props.addTodoAction;n&&o(n),e.setState({newTodo:""})},e.state={newTodo:""},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.newTodo;return Object(o.jsx)("form",{className:"container",onSubmit:this.handleFormSubmit,children:Object(o.jsx)("input",{type:"text",value:e,onChange:this.handleInputChange})})}}]),n}(c.a.Component),h=Object(d.b)(null,{addTodoAction:j})(f),v=n(9),m=n(11),T=n.p+"static/media/icon-cross.6ee81d30.svg";function x(e,t){return"".concat(e,t?"--dark":"--light")}function D(e){var t=window.localStorage.getItem(e);if(t)return JSON.parse(t)}function y(e,t){return window.localStorage.setItem(e,JSON.stringify(t)),t}var C=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.index,r=e.value,c=e.isCompleted,i=e.toggleTodoAction,a=e.deleteTodoAction,s=e.isDarkMode;return Object(o.jsx)(m.b,{draggableId:t,index:n,children:function(e){return Object(o.jsxs)("div",Object(v.a)(Object(v.a)(Object(v.a)({id:t,className:"todo flex ".concat(x("todo",s)," ").concat(c?"todo--completed":void 0)},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:[Object(o.jsx)("input",{type:"checkbox",id:t,name:"todo",defaultChecked:c,onClick:function(){return i(t)}}),Object(o.jsx)("label",{htmlFor:t,children:r}),Object(o.jsx)("button",{type:"button",className:"todo--delete",onClick:function(){return a(t)},children:Object(o.jsx)("img",{src:T,alt:"Delete todo"})})]}))}},t)}}]),n}(c.a.Component);var g=Object(d.b)((function(e){return{isDarkMode:e.isDarkMode}}),{toggleTodoAction:function(e){return{type:"TOGGLE_TODO",payload:{id:e}}},deleteTodoAction:function(e){return{type:"DELETE_TODO",payload:{id:e}}}})(C),k=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleOnDragEnd=function(t){var n=t.destination,o=t.source;if(n){var r=e.props,c=r.reorderTodosAction,i=r.completeItemsCount;"INCOMPLETE"===r.filterType&&i?c(o.index+i,n.index+i):c(o.index,n.index)}},e}return Object(u.a)(n,[{key:"generateTodos",value:function(){var e=this.props,t=e.todos,n=e.isDarkMode;return 0===t.length?Object(o.jsx)("div",{className:"empty-todo-list ".concat(x("empty-todo-list",n)),children:Object(o.jsx)("h1",{children:"No Tasks!"})}):t.map((function(e,t){var n=e.id,r=e.value,c=e.isCompleted;return Object(o.jsx)(g,{id:n,isCompleted:c,value:r,index:t},n)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.incompleteItemsCount,r=t.clearCompletedTodosAction,c=t.isDarkMode;return Object(o.jsxs)(m.a,{onDragEnd:this.handleOnDragEnd,children:[Object(o.jsx)(m.c,{droppableId:"todos",children:function(t){return Object(o.jsxs)("div",Object(v.a)(Object(v.a)({className:"todo-list"},t.droppableProps),{},{ref:t.innerRef,children:[Object(o.jsx)("div",{children:e.generateTodos()}),t.placeholder]}))}}),Object(o.jsxs)("div",{className:"flex todos-left ".concat(x("todos-left",c)),children:[Object(o.jsxs)("span",{children:[n," ","items left"]}),Object(o.jsx)("button",{type:"button",onClick:r,children:"Clear Completed"})]})]})}}]),n}(c.a.Component);var E=Object(d.b)((function(e,t){var n,o=e.todos,r=e.isDarkMode,c=t.filterType,i=o.reduce((function(e,t){return t.isCompleted?e:e+1}),0),a=o.length-i;switch(c){case"COMPLETED":n=o.filter((function(e){return e.isCompleted}));break;case"INCOMPLETE":n=o.filter((function(e){return!e.isCompleted}));break;default:n=o}return{todos:n,incompleteItemsCount:i,completeItemsCount:a,isDarkMode:r}}),{addTodoAction:j,clearCompletedTodosAction:function(){return{type:"CLEAR_COMPLETED_TODOS"}},reorderTodosAction:function(e,t){return{type:"REORDER_TODOS",payload:{sourceIndex:e,destinationIndex:t}}}})(k);var M=Object(d.b)((function(e){return{isDarkMode:e.isDarkMode}}))((function(e){var t=e.setFilterType,n=e.filterType,r=e.isDarkMode,c=function(e){return e===n};return Object(o.jsxs)("div",{className:"filter-bar flex ".concat(x("filter-bar",r)),children:[Object(o.jsx)("button",{type:"button",className:"".concat(c("all")?"active-filter":void 0," ").concat(x("button",r)),onClick:function(){return t("all")},children:"All"}),Object(o.jsx)("button",{type:"button",className:"".concat(c("active")?"active-filter":void 0," ").concat(x("button",r)),onClick:function(){return t("INCOMPLETE")},children:"Active"}),Object(o.jsx)("button",{type:"button",className:"".concat(c("completed")?"active-filter":void 0," ").concat(x("button",r)),onClick:function(){return t("COMPLETED")},children:"Completed"})]})})),A=(n(29),n.p+"static/media/icon-moon.6c03114b.svg"),N=n.p+"static/media/icon-sun.910b1f9a.svg",I=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setFilterType=function(t){e.setState({filterType:t})},e.state={filterType:"ALL"},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.filterType,t=this.props,n=t.isDarkMode,r=t.toggleDarkModeAction;return Object(o.jsxs)("div",{className:"wrapper ".concat(x("wrapper",n)),children:[Object(o.jsxs)("header",{className:"".concat(x("header",n)),children:[Object(o.jsxs)("nav",{className:"container flex",children:[Object(o.jsx)("h1",{children:"TODO"}),Object(o.jsx)("button",{type:"button",onClick:r,children:Object(o.jsx)("img",{src:n?N:A,alt:"dark mode"})})]}),Object(o.jsx)(h,{addTodo:this.addTodo})]}),Object(o.jsxs)("main",{className:"container",children:[Object(o.jsx)(E,{filterType:e}),Object(o.jsx)(M,{setFilterType:this.setFilterType,filterType:e})]}),Object(o.jsx)("footer",{className:"container",children:Object(o.jsx)("p",{children:"Drag and drop to reorder list"})})]})}}]),n}(c.a.Component);var L=Object(d.b)((function(e){return{isDarkMode:e.isDarkMode}}),{toggleDarkModeAction:function(){return{type:"TOGGLE_DARK_MODE"}}})(I),w=n(12);function _(e,t){var n,o=e.find((function(e,o){return n=o,e.id===t}));o.isCompleted=!o.isCompleted;var r=Object(w.a)(e);return r.splice(n,1),r.unshift(o),r}function S(e,t,n){var o=Object(w.a)(e);return o.splice(t,1),o.splice(n,0,e[t]),o}var R=Object(s.c)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D("todos")||[],t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.payload;switch(n){case"ADD_TODO":return y("todos",[].concat(Object(w.a)(e),[o]));case"DELETE_TODO":return y("todos",e.filter((function(e){return e.id!==o.id})));case"TOGGLE_TODO":return y("todos",_(e,o.id));case"CLEAR_COMPLETED_TODOS":return y("todos",e.filter((function(e){return!1===e.isCompleted})));case"REORDER_TODOS":return y("todos",S(e,o.sourceIndex,o.destinationIndex));default:return e}},isDarkMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D("isDarkMode")||!1,t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_DARK_MODE"===t.type?y("isDarkMode",!e):e}});a.a.render(Object(o.jsx)(d.a,{store:Object(s.e)(R),children:Object(o.jsx)(L,{})}),document.querySelector("#root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.d2c30e0a.chunk.js.map