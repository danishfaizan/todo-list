(this["webpackJsonptodo-list-react"]=this["webpackJsonptodo-list-react"]||[]).push([[0],{36:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),o=n(17),r=n.n(o),i=n(13),s=n(5),d=n(11),u=n(3),l=n(9),j=function(e){var t=e.name,n=e.itemCount;return Object(c.jsxs)("div",{className:"category",children:[t,Object(c.jsx)("span",{className:"category__item-count",children:n})]})},b=(n(36),function(e){var t=e.showBackButton;return Object(c.jsxs)("form",{className:"search-bar flex",children:[t&&Object(c.jsx)(d.b,{to:"/",children:Object(c.jsx)("button",{type:"button",children:"\u276e"})}),Object(c.jsx)("input",{type:"text"}),Object(c.jsx)("button",{type:"submit",children:"\ud83d\udd0d "})]})});b.defaultProps={showBackButton:!1};var O=b,f=n(40);var x=function(e){var t=e.setShouldShowAddCategoryPage,n=Object(s.c)(),o=Object(a.useState)(""),r=Object(l.a)(o,2),i=r[0],d=r[1],u=function(e){var c;e.preventDefault(),t(!1),i&&n((c=i,{type:"ADD_CATEGORY",payload:{id:Object(f.a)(),name:c}}))};return Object(c.jsx)("form",{className:"new-todo flex",onSubmit:function(e){return u(e)},children:Object(c.jsxs)("div",{className:"form-content flex",children:[Object(c.jsx)("label",{htmlFor:"addCategory",children:"Add new category"}),Object(c.jsx)("input",{id:"addCategory",type:"text",value:i,onChange:function(e){return d(e.target.value)}}),Object(c.jsxs)("div",{className:"flex",children:[Object(c.jsx)("button",{type:"button",onClick:function(){return t(!1)},children:"Cancel"}),Object(c.jsx)("button",{type:"submit",children:"Save"})]})]})})},m=function(e){return e.map((function(e){return Object(c.jsx)(d.b,{to:"/category/".concat(e.id),children:Object(c.jsx)(j,{name:e.name,itemCount:e.itemCount})},e.id)}))},h=function(e){var t=e.personalCategories,n=e.mainCategories,o=Object(a.useState)(!1),r=Object(l.a)(o,2),i=r[0],s=r[1];return i?Object(c.jsx)(x,{setShouldShowAddCategoryPage:s}):Object(c.jsxs)("div",{className:" ",children:[Object(c.jsx)(O,{}),Object(c.jsx)("div",{className:"main-categories",children:m(n)}),Object(c.jsx)("div",{className:"personal-categories",children:m(t)}),Object(c.jsx)("div",{className:"add-bar container flex",children:Object(c.jsx)("button",{type:"button",onClick:function(){return s(!i)},children:"Add category"})})]})};h.defaultProps={personalCategories:[],mainCategories:[]};var p=Object(s.b)((function(e){var t=e.categories,n=e.todos,c=t.map((function(e){return{id:e.id,name:e.name,itemCount:n.filter((function(t){return e.id===t.categoryId})).length}}));return{mainCategories:c.splice(0,2),personalCategories:c}}))(h),v=n.p+"static/media/icon-cross.6ee81d30.svg";function g(e,t){return"".concat(e,t?"--dark":"--light")}function y(e){var t=window.localStorage.getItem(e);if(t)return JSON.parse(t)}function C(e,t){return window.localStorage.setItem(e,JSON.stringify(t)),t}var D=function(e){var t=e.id,n=e.value,o=e.isCompleted,r=e.isDarkMode,i=Object(s.c)(),d=Object(a.useState)(n),u=Object(l.a)(d,2),j=u[0],b=u[1];return Object(c.jsxs)("div",{id:t,className:"todo flex ".concat(g("todo",r)," ").concat(o?"todo--completed":void 0),children:[Object(c.jsx)("input",{type:"checkbox",id:t,name:"todo",defaultChecked:o,onClick:function(){return i(function(e){return{type:"TOGGLE_TODO",payload:{id:e}}}(t))}}),Object(c.jsx)("textarea",{className:"todo-text ".concat(g("todo-text",r)),type:"text",value:j,onChange:function(e){b(e.target.value),i(function(e,t){return{type:"UPDATE_TODO",payload:{id:e,value:t}}}(t,e.target.value))},onKeyPress:function(e){"Enter"===e.key&&e.target.blur()}}),Object(c.jsx)("button",{type:"button",className:"todo--delete",onClick:function(){return i(function(e){return{type:"DELETE_TODO",payload:{id:e}}}(t))},children:Object(c.jsx)("img",{src:v,alt:"Delete todo"})})]})},T=function(e){var t,n=e.setShouldShowNewTodoPage,o=e.categoryId,r=Object(s.d)((function(e){return e.categories})),i=Object(s.c)(),d=Object(a.useState)(""),u=Object(l.a)(d,2),j=u[0],b=u[1],O=Object(a.useState)(o),x=Object(l.a)(O,2),m=x[0],h=x[1],p=function(e){e.preventDefault(),n(!1),j&&i(function(e,t){return{type:"ADD_TODO",payload:{id:Object(f.a)(),value:e,categoryId:t,isCompleted:!1}}}(j,m))};return Object(c.jsx)("form",{className:"new-todo flex",onSubmit:function(e){return p(e)},children:Object(c.jsxs)("div",{className:"form-content flex",children:[Object(c.jsx)("label",{htmlFor:"newtodo",children:"Add new todo"}),Object(c.jsx)("input",{id:"newtodo",type:"text",value:j,onChange:function(e){return b(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"categories",children:"Category"}),Object(c.jsx)("select",{defaultValue:o,name:"categories",onChange:function(e){return h(e.target.value)},children:(t=r,t.map((function(e){return Object(c.jsx)("option",{value:e.id,children:e.name})})))}),Object(c.jsxs)("div",{className:"flex",children:[Object(c.jsx)("button",{type:"button",onClick:function(){return n(!1)},children:"Cancel"}),Object(c.jsx)("button",{type:"submit",children:"Save"})]})]})})},E=function(){var e,t=Object(u.e)().id,n=Object(a.useState)(!1),o=Object(l.a)(n,2),r=o[0],i=o[1],d=Object(s.d)((function(e){return e.todos.filter((function(e){return t===e.categoryId}))}));return r?Object(c.jsx)(T,{setShouldShowNewTodoPage:i,categoryId:t}):Object(c.jsxs)("div",{className:"",children:[Object(c.jsx)(O,{showBackButton:!0}),Object(c.jsx)("div",{className:"todos",children:(e=d,e.map((function(e,t){var n=e.id,a=e.value,o=e.isCompleted,r=e.categoryId;return Object(c.jsx)(D,{id:n,isCompleted:o,value:a,index:t,categoryId:r},n)})))}),Object(c.jsx)("div",{className:"add-bar container flex",children:Object(c.jsx)("button",{className:"button__add-todo",type:"button",onClick:function(){return i(!0)},children:"+"})})]})},S=function(){return Object(c.jsx)("div",{className:"container flex",children:Object(c.jsxs)(d.a,{children:[Object(c.jsx)(u.a,{path:"/",exact:!0,children:Object(c.jsx)(p,{})}),Object(c.jsx)(u.a,{path:"/category/:id",exact:!0,children:Object(c.jsx)(E,{})})]})})},N=n(10),w=n(16);function _(e,t,n){var c=Object(w.a)(e);return c.splice(t,1),c.splice(n,0,e[t]),c}var k=[{id:"1",name:"Today"},{id:"2",name:"Someday"}];var A=Object(i.b)({categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y("categories")||k,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case"ADD_CATEGORY":return C("categories",[].concat(Object(w.a)(e),[c]));case"DELETE_CATEGORY":return C("categories",e.filter((function(e){return e.id!==c.id})));case"UPDATE_CATEGORY":return C("categories",e.map((function(e){return e.id===c.id?Object(N.a)(Object(N.a)({},e),{},{value:c.value}):e})));default:return e}},todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y("todos")||[],t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case"ADD_TODO":return C("todos",[c].concat(Object(w.a)(e)));case"DELETE_TODO":return C("todos",e.filter((function(e){return e.id!==c.id})));case"UPDATE_TODO":return C("todos",e.map((function(e){return e.id===c.id?Object(N.a)(Object(N.a)({},e),{},{value:c.value}):e})));case"TOGGLE_TODO":return C("todos",e.map((function(e){return e.id===c.id?Object(N.a)(Object(N.a)({},e),{},{isCompleted:!e.isCompleted}):e})));case"CLEAR_COMPLETED_TODOS":return C("todos",e.filter((function(e){return!1===e.isCompleted})));case"REORDER_TODOS":return C("todos",_(e,c.sourceIndex,c.destinationIndex));default:return e}},isDarkMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y("isDarkMode")||!1,t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_DARK_MODE"===t.type?C("isDarkMode",!e):e}});r.a.render(Object(c.jsx)(s.a,{store:Object(i.c)(A),children:Object(c.jsx)(S,{})}),document.querySelector("#root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.b56ab2f0.chunk.js.map